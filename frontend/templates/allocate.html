<!DOCTYPE html>
<html>
<head>
  <title>Allocate Resource</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background-color:#f8fafc;">

<!-- Navbar -->
<nav class="navbar navbar-dark" style="background-color:#4f46e5;">
  <div class="container d-flex align-items-center">

    <!-- Back button (left) -->
    <a href="/" class="btn btn-outline-light btn-sm">
      ‚Üê Back
    </a>

    <!-- Title (center) -->
    <span class="navbar-brand mx-auto fw-bold">
      Event Scheduler
    </span>

  </div>
</nav>




<!-- Page Content -->
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-5">

      <div class="card shadow-sm">
        <div class="card-body">

          <h4 class="text-center mb-4">Allocate Resource</h4>

          <label class="form-label">Event ID</label>
          <input id="eventId" class="form-control mb-3" placeholder="Enter Event ID">

          <label class="form-label">Resource ID</label>
          <input id="resourceId" class="form-control mb-3" placeholder="Enter Resource ID">

          <button 
            class="btn w-100 text-white"
            style="background-color:#4f46e5;"
            onclick="allocate()">
            Allocate Resource
          </button>

          <p id="msg" class="mt-3 text-center fw-semibold"></p>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
function allocate() {
  fetch('/allocations/', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      event_id: eventId.value,
      resource_id: resourceId.value
    })
  })
  .then(r => r.json())
  .then(d => {
    msg.innerText = d.message || d.error;
    msg.style.color = d.error ? '#dc2626' : '#16a34a';
  });
}
</script>

</body>
</html>